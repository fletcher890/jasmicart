// Generated by CoffeeScript 1.7.1
(function() {
  define(['src/basket', 'src/item'], function(Basket, Item) {
    var basket, laptop, mouse;
    describe('Basket', function() {
      var basket, laptop, mouse;
      basket = laptop = mouse = void 0;
      return beforeEach(function() {});
    });
    basket = new Basket();
    laptop = new Item(1, 'Laptop', 400);
    mouse = new Item(2, 'Mouse', 30);
    describe('Adding to basket', function() {
      return it('should keep track of distinct items and quantities in basket', function() {
        basket.add(laptop);
        expect(basket.totalCount).toEqual(1);
        expect(basket.distinctCount).toEqual(1);
        basket.add(laptop);
        expect(basket.totalCount).toEqual(2);
        expect(basket.distinctCount).toEqual(1);
        basket.add(mouse);
        expect(basket.totalCount).toEqual(3);
        return expect(basket.distinctCount).toEqual(2);
      });
    });
    describe('emptying a basket', function() {
      it('empties a basket with items in', function() {
        basket.add(laptop);
        basket.empty();
        return expect(basket.items.length).toEqual(0);
      });
      return it('updates count variables', function() {
        basket.add(laptop);
        basket.empty();
        expect(basket.distinctCount).toEqual(0);
        return expect(basket.totalCount).toEqual(0);
      });
    });
    describe('finding an item in a basket', function() {
      return it('returns true if exists', function() {
        basket.add(laptop);
        return expect(basket.itemExistsInBasket(laptop)).toBeTruthy();
      });
    });
    return describe('fetching item from basket', function() {
      it('returns the item object if it exists', function() {
        var result;
        basket.empty();
        basket.add(laptop);
        result = basket.getItemFromBasket(laptop);
        expect(result.item).toEqual(laptop);
        return expect(result.quantity).toEqual(1);
      });
      return it('returns false if the item is not in basket', function() {
        basket.empty();
        return expect(basket.getItemFromBasket(laptop)).toBeFalsy();
      });
    });
  });

}).call(this);
